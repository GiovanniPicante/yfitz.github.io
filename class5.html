<!DOCTYPE html>

<html lang="de">

<head>
  <meta name="generator" content="HTML Tidy for HTML5 (experimental) for Windows https://github.com/w3c/tidy-html5/tree/c63cc39">
  <meta charset="utf-8">

  <title>Kapitel 5 - Javascript more and more</title>
  <meta name="description" content="Kapitel 4 - Techniker Javascript Einführung">
  <meta name="author" content="yfitz">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/simple.css" id="theme">
  <link rel="stylesheet" href="css/custom.css">
  <!-- For syntax highlighting -->
  <!-- light editor -->
  <link rel="stylesheet" href="lib/css/light.css">
  <!-- dark editor -->
  <!--<link rel="stylesheet" href="lib/css/dark.css">
  <link rel="stylesheet" href="lib/css/zenburn.css">
  <link rel="stylesheet" href="plugin/accessibility-helper/css/accessibility-helper.css">-->
  <!--If the query includes 'print-pdf', include the PDF print sheet -->

  <script>
    if (window.location.search.match(/print-pdf/gi)) {
      var link = document.createElement('link');
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = 'css/print/pdf.css';
      document.getElementsByTagName('head')[0].appendChild(link);
    }
  </script>
  <!-- If use the PDF print sheet so students can print slides-->
  <link rel="stylesheet" href="css/print/pdf.css" type="text/css" media="print">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>
  <div class="reveal">
    <div class="slides">

      <!-- Errorhandling -->
      <section>

        <h3>Errorhandling</h3>

        <pre><code class="javascript">

          try {
            adddlert("Welcome guest!");
              }
          catch(err) {
            document.getElementById("demo").innerHTML = err.message;
              }

        </code></pre>
        <a href="https://www.w3schools.com/js/tryit.asp?filename=tryjs_try_catch">Aufgabe</a>
        <p>Wie wird die Fehlerbehandlung nicht eintreten? </p>
        <p>Ergänzen Sie ...</p>
      </section>

      <!-- AJAX -->
      <section>
        <h3>AJAX -  Asynchronous JavaScript And XML. <h3>
          <p style="font-size:20px;color:red;">Ein TRAUM- Lesen vom Server und Update der Webseite ohne load</p>
          <p style="font-size:20px;color:red;">Technik um von der Webseite auf den Webserver zuzugreifen.</p>
          <img src="images/AJAXFkt.png"/>
      </section>
      <section>
        <h3> AJAX Schritte: </h3>
        <ol>
          <li>Ein Event tritt auf in der Webseite </li>
          <li>Ein XMLHttpRequest Objekt erzeugen in JavaScript</li>
          <li>Ein XMLHttpRequest Objekt sendet einen Request (Anfrage) an den Webserver</li>
          <li>Der Webserver verarbeitet den Request</li>
          <li>Der Webserver sendet einen Response (Antwort) an die Webseite</li>
          <li>Der Response wird von JavaScript gelesen </li>
          <li>Aktion (z.B. update) wird von JavaScript ausgeführt</li>
        </ol>
      </section>
      <section>
        <div style="font-size:20px;">
          <p><font color="blue">1. Ein Event tritt auf in der Webseite </font></p>
          <p><font color="red">2. Ein XMLHttpRequest Objekt erzeugen in JavaScript</font></p>
          <p><font color="green">3. Ein XMLHttpRequest Objekt sendet einen Request (Anfrage) an den Webserver</font></p>
          <p><font color="purple">6. Der Response wird von JavaScript gelesen </font></p>
          <p><font color="orange">7. Aktion (z.B. update) wird von JavaScript ausgeführt </font></p>
        </div>
        <pre><code class="html">
      &lt;button type="button" <font color="blue"> onclick="loadDoc()"</font>&gt;Change Content&lt;/button&gt;
        </pre></code>

        <pre><code class="script">
    function <font color="blue">loadDoc</font>() {
      var <font color="red">xhttp = new XMLHttpRequest();</font>
      <font color="purple">xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) { </font>
          <font color="orange">document.getElementById("demo").innerHTML = this.responseText; </font>
        }
      };
      <font color="green">xhttp.open("GET", "ajax_info.txt", true); </font>
      <font color="green">xhttp.send();</font>
    }
        </pre></code>
      </section>
      <section>
        <h4> Methoden/Eigenschaften vom XMLHttpRequest:</h4>
          <ul style="font-size:25px;">
            <li>XMLHttpRequest erzeugen: var<font color="blue"> xhttp</font> = new XMLHttpRequest(); </li>
            <li>Definiert Funktion für Response: <font color="blue">xhttp</font>.onreadystatechange = function...</li>
            <li>Hält Status des Response: <font color="blue">xhttp</font>.readyState;</li>
            <ul style="font-size:20px;">
                <li>0: not initialized, 1: server connection established</li>
                <li>2: request received,3: processing request </li>
                <li>4: request finished and response is ready</li>
            </ul>
            <li>Setzt Requesttyp: <font color="blue">xhttp</font>.open(methode, url, async);</li>
            <li>Sende Request: <font color="blue">xhttp</font>.send();</li>
          </ul>
        <a href="https://www.w3schools.com/js/js_ajax_http.asp" target="_blank" style="font-size:20px;">siehe XMLHttpRequest</a>
      </section>
      <section>
        <p> Was wird hier gemacht? Was fehlt?</p>
        <pre><code class="javascript">
        function showHint(str) {
          var xhttp;
          if (str.length == 0) {
            document.getElementById("txtHint").innerHTML = "";
            return;
          }
          xhttp = new XMLHttpRequest();
          xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
              document.getElementById("txtHint").innerHTML = this.responseText;
            }
          };
          xhttp.open("GET",<font color="blue"> "gethint.php?q="+str</font>, true);
          xhttp.send();
        }
      </code></pre>
    </section>
    <section>
      <p> Serverseitiges Script: "gethint.php" Datei </p>
      <pre><code class="javacsript">
        &lt;?php
        // Hole Request Parameter von URL
        $q = <font color="blue">$_REQUEST["q"]</font>;

        $hint ="";
        if ($q !== "") {
          if ($q === "Hallo"){
            $hint ="Ok";
          }
          else {
            $hint ="Unfreundlich";
          }
        }

        echo $hint === "" ? "no suggestion" : $hint;
        ?&gt;
        </code></pre>
        <a href="https://werner-zenk.de/scripte/verkettete_auswahllisten_dynamisch_aus_einer_db-tabelle_generieren.php">Längeres Beispiel</a>
      </section>
      <!-- JSON -->
      <section>
        <h4>JSON - JavaScript Object Notation</h4>
        <ul>
          <li>lightweight data interchange format</li>
          <li>language independent und selbsterklärend</li>
        </ul>
        <pre><code class="javascript">
          {   "employees":
                [
                    {"firstName":"John", "lastName":"Doe"},
                    {"firstName":"Anna", "lastName":"Smith"},
                    {"firstName":"Peter", "lastName":"Jones"}
                ]
          }
        </code></pre>
        <ul style="font-size:20px;">
          <li>Daten als Namen und Werte Paare</li>
          <li>Daten durch Komma getrennt</li>
          <li>Geschweifte Klammern für Objekte </li>
          <li>Eckige Klammern für Arrays</li>
        </ul>
      </section>

      <section>
        <h3>JSON erzeugen oder empfangen</h3>

        <pre><code class="javascript">
          var obj = { name:"John", age:30, city:"New York"};
          var myJSON = JSON.stringify(obj);
        </code></pre>
        <p>Erzeugt: {"name":"John","age":30,"city":"New York"}</p>
        <pre><code class="javascript">
          var obj = JSON.parse('{ "name":"John", "age":30, "city":"New York"}');
        </code></pre>
        <p>Wandelt JSON in ein Objekt: </p>
        <pre><code class="javascript">
           var obj = {
                        name":"John",
                        age:30,
                        city:"New York"
                      }
        </code></pre>
      </section>
      <section>
        <h2>Fragen?</h2>

        <p> Folgendes Beispiel wendet all das an.</p>
        <p> Zerlege es und versuche es zu verstehen....</p>
        <a href="https://werner-zenk.de/scripte/verkettete_auswahllisten_dynamisch_aus_einer_db-tabelle_generieren.php">
          siehe hier!</a><br><br>
        <p> Beispiel mit Datenbank </p>
        <a href="https://www.w3schools.com/php/php_ajax_database.asp">siehe hier!</a><br><br>
        <a href="JS.html" target="_blank">Gehe auf Anfang ;-)</a>
      </section>
    </div>
    <script src="js/reveal.js"></script>
    <script>
      Reveal.initialize({

        // Display controls in the bottom right corner
        controls: true,

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: Reveal.navigateNext,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // Hides the address bar on mobile devices
        hideAddressBar: true,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Transition speed
        transitionSpeed: 'default', // default/fast/slow

        // Transition style for full page slide backgrounds
        backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Parallax background image
        parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

        // Parallax background size
        parallaxBackgroundSize: '', // CSS syntax, e.g. "2100px 900px"

        // Number of pixels to move the parallax background per slide
        // - Calculated automatically unless specified
        // - Set to 0 to disable movement along an axis
        parallaxBackgroundHorizontal: null,
        parallaxBackgroundVertical: null
      });
    </script>
</body>

</html>
